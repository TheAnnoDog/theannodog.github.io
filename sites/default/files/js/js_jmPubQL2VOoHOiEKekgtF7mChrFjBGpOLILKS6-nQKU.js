(function(c){c.theme.checkbox=function(){return'<input type="checkbox" class="form-checkbox"/>'}})(Drupal);;
(function(c,e){e.behaviors.ClickToSelect={attach:function(e){c(once('media-library-click-to-select','.js-click-to-select-trigger',e)).on('click',function(e){e.preventDefault();var t=c(e.currentTarget).closest('.js-click-to-select').find('.js-click-to-select-checkbox input');t.prop('checked',!t.prop('checked')).trigger('change')});c(once('media-library-click-to-select','.js-click-to-select-checkbox input',e)).on('change',function(e){var t=e.currentTarget;c(t).closest('.js-click-to-select').toggleClass('checked',c(t).prop('checked'))}).on('focus blur',function(e){var t=e.currentTarget,o=e.type;c(t).closest('.js-click-to-select').toggleClass('is-focus',o==='focus')});c(once('media-library-click-to-select-hover','.js-click-to-select-trigger, .js-click-to-select-checkbox',e)).on('mouseover mouseout',function(e){var t=e.currentTarget,o=e.type;c(t).closest('.js-click-to-select').toggleClass('is-hover',o==='mouseover')})}}})(jQuery,Drupal);;
(function(e,i){i.behaviors.MediaLibrarySelectAll={attach:function(a){var l=e(once('media-library-select-all','.js-media-library-view[data-view-display-id="page"]',a));if(l.length&&l.find('.js-media-library-item').length){var r=e(i.theme('checkbox')).on('click',function(a){var t=a.currentTarget,l=e(t).closest('.js-media-library-view').find('.js-media-library-item input[type="checkbox"]');l.prop('checked',e(t).prop('checked')).trigger('change');var r=e(t).prop('checked')?i.t('All @count items selected',{'@count':l.length}):i.t('Zero items selected');i.announce(r)}),t=e('<label class="media-library-select-all"></label>');t[0].textContent=i.t('Select all media');t.prepend(r);l.find('.js-media-library-item').first().before(t)}}}})(jQuery,Drupal);;
(function(e,i,a,t){var r=t.tabbable;i.MediaLibrary={currentSelection:[]};i.AjaxCommands.prototype.updateMediaLibrarySelection=function(e,a,t){Object.values(a.mediaIds).forEach(function(e){i.MediaLibrary.currentSelection.push(e)})};i.behaviors.MediaLibraryTabs={attach:function(a){var t=e('.js-media-library-menu');e(once('media-library-menu-item',t.find('a'))).on('keypress',function(i){if(i.which===32){i.preventDefault();i.stopPropagation();e(i.currentTarget).trigger('click')}}).on('click',function(a){a.preventDefault();a.stopPropagation();var n=i.ajax({wrapper:'media-library-content',url:a.currentTarget.href,dialogType:'ajax',progress:{type:'fullscreen',message:i.t('Please wait...')}});n.success=function(e,a){return Promise.resolve(i.Ajax.prototype.success.call(n,e,a)).then(function(){var i=document.getElementById('media-library-content');if(i){var e=r(i);if(e.length){e[0].focus()}}})};n.execute();t.find('.active-tab').remove();t.find('a').removeClass('active');e(a.currentTarget).addClass('active').html(i.t('<span class="visually-hidden">Show </span>@title<span class="visually-hidden"> media</span><span class="active-tab visually-hidden"> (selected)</span>',{'@title':e(a.currentTarget).data('title')}));i.announce(i.t('Showing @title media.',{'@title':e(a.currentTarget).data('title')}))})}};i.behaviors.MediaLibraryViewsDisplay={attach:function(a){var t=e(a).hasClass('.js-media-library-view')?e(a):e('.js-media-library-view',a);t.closest('.views-element-container').attr('id','media-library-view');e(once('media-library-views-display-link','.views-display-link-widget, .views-display-link-widget_table',a)).on('click',function(a){a.preventDefault();a.stopPropagation();var c=e(a.currentTarget),t='',r='',n='';if(c.hasClass('views-display-link-widget')){t=i.t('Loading grid view.');r=i.t('Changed to grid view.');n='.views-display-link-widget'}
else if(c.hasClass('views-display-link-widget_table')){t=i.t('Loading table view.');r=i.t('Changed to table view.');n='.views-display-link-widget_table'};var l=i.ajax({wrapper:'media-library-view',url:a.currentTarget.href,dialogType:'ajax',progress:{type:'fullscreen',message:t||i.t('Please wait...')}});if(r||n){var s=l.success;l.success=function(a,t){s.bind(this)(a,t);if(n){e(n).focus()};if(r){i.announce(r)}}};l.execute();if(t){i.announce(t)}})}};i.behaviors.MediaLibraryItemSelection={attach:function(t,n){var c=e('.js-media-library-views-form, .js-media-library-add-form',t),r=i.MediaLibrary.currentSelection;if(!c.length){return};var l=e('.js-media-library-item input[type="checkbox"]',c);function d(e){e.prop('disabled',!0).closest('.js-media-library-item').addClass('media-library-item--disabled')};function s(e){e.prop('disabled',!1).closest('.js-media-library-item').removeClass('media-library-item--disabled')};function o(a){var t=a<0?i.formatPlural(r.length,'1 item selected','@count items selected'):i.formatPlural(a,'@selected of @count item selected','@selected of @count items selected',{'@selected':r.length});e('.js-media-library-selected-count').html(t)};e(once('media-item-change',l)).on('change',function(i){var n=i.currentTarget.value,t=r.indexOf(n);if(i.currentTarget.checked){if(t===-1){r.push(n)}}
else if(t!==-1){r.splice(t,1)};var a=document.querySelector('#media-library-modal-selection');if(a){a.value=r.join();e(a).trigger('change')};document.querySelectorAll('.js-media-library-add-form-current-selection').forEach(function(e){e.value=r.join()})});e(once('media-library-selection-change',c.find('#media-library-modal-selection'))).on('change',function(e){o(n.media_library.selection_remaining);if(r.length===n.media_library.selection_remaining){d(l.not(':checked'));s(l.filter(':checked'))}
else{s(l)}});r.forEach(function(e){c.find('input[type="checkbox"][value="'.concat(e,'"]')).prop('checked',!0).trigger('change')});if(!once('media-library-selection-info','html').length){return};e(a).on('dialog:aftercreate',function(){var a=e('.media-library-widget-modal .ui-dialog-buttonpane');if(!a.length){return};a.append(i.theme('mediaLibrarySelectionCount'));o(n.media_library.selection_remaining)})}};i.behaviors.MediaLibraryModalClearSelection={attach:function(){if(!once('media-library-clear-selection','html').length){return};e(a).on('dialog:afterclose',function(){i.MediaLibrary.currentSelection=[]})}};i.theme.mediaLibrarySelectionCount=function(){return'<div class="media-library-selected-count js-media-library-selected-count" role="status" aria-live="polite" aria-atomic="true"></div>'}})(jQuery,Drupal,window,window.tabbable);;
(function(e,t,n){t.Views={};t.Views.parseQueryString=function(t){var s={};var i=t.indexOf('?');if(i!==-1){t=t.substring(i+1)};var e,r=t.split('&');for(var n=0;n<r.length;n++){e=r[n].split('=');if(e[0]!=='q'&&e[1]){s[decodeURIComponent(e[0].replace(/\+/g,' '))]=decodeURIComponent(e[1].replace(/\+/g,' '))}};return s};t.Views.parseViewArgs=function(e,g){var s={};var r=t.Views.getPath(e),i=t.url(g).substring(n.path.baseUrl.length);if(i&&r.substring(0,i.length+1)===''.concat(i,'/')){s.view_args=decodeURIComponent(r.substring(i.length+1,r.length));s.view_path=r};return s};t.Views.pathPortion=function(t){var e=window.location.protocol;if(t.substring(0,e.length)===e){t=t.substring(t.indexOf('/',e.length+2))};return t};t.Views.getPath=function(e){e=t.Views.pathPortion(e);e=e.substring(n.path.baseUrl.length,e.length);if(e.substring(0,3)==='?q='){e=e.substring(3,e.length)};var i=['#','?','&'];for(var r=0;r<i.length;r++){if(e.indexOf(i[r])>-1){e=e.substr(0,e.indexOf(i[r]))}};return e}})(jQuery,Drupal,drupalSettings);;
(function(e,t,i){t.behaviors.ViewsAjaxView={};t.behaviors.ViewsAjaxView.attach=function(e,i){if(i&&i.views&&i.views.ajaxViews){var s=i.views.ajaxViews;Object.keys(s||{}).forEach(function(e){t.views.instances[e]=new t.views.ajaxView(s[e])})}};t.behaviors.ViewsAjaxView.detach=function(i,s,a){if(a==='unload'){if(s&&s.views&&s.views.ajaxViews){var r=s.views.ajaxViews;Object.keys(r||{}).forEach(function(a){var o='.js-view-dom-id-'.concat(r[a].view_dom_id);if(e(o,i).length){delete t.views.instances[a];delete s.views.ajaxViews[a]}})}}};t.views={};t.views.instances={};t.views.ajaxView=function(s){var o='.js-view-dom-id-'.concat(s.view_dom_id);this.$view=e(o);var r=i.views.ajax_path;if(r.constructor.toString().indexOf('Array')!==-1){r=r[0]};var a=window.location.search||'';if(a!==''){a=a.slice(1).replace(/q=[^&]+&?|&?render=[^&]+/,'');if(a!==''){a=(/\?/.test(r)?'&':'?')+a}};this.element_settings={url:r+a,submit:s,setClick:!0,event:'click',selector:o,progress:{type:'fullscreen'}};this.settings=s;this.$exposed_form=e('form#views-exposed-form-'.concat(s.view_name.replace(/_/g,'-'),'-').concat(s.view_display_id.replace(/_/g,'-')));once('exposed-form',this.$exposed_form).forEach(e.proxy(this.attachExposedFormAjax,this));once('ajax-pager',this.$view.filter(e.proxy(this.filterNestedViews,this))).forEach(e.proxy(this.attachPagerAjax,this));var n=e.extend({},this.element_settings,{event:'RefreshView',base:this.selector,element:this.$view.get(0)});this.refreshViewAjax=t.ajax(n)};t.views.ajaxView.prototype.attachExposedFormAjax=function(){var i=this;this.exposedFormAjax=[];e('input[type=submit], button[type=submit], input[type=image]',this.$exposed_form).not('[data-drupal-selector=edit-reset]').each(function(s){var a=e.extend({},i.element_settings,{base:e(this).attr('id'),element:this});i.exposedFormAjax[s]=t.ajax(a)})};t.views.ajaxView.prototype.filterNestedViews=function(){return!this.$view.parents('.view').length};t.views.ajaxView.prototype.attachPagerAjax=function(){this.$view.find('ul.js-pager__items > li > a, th.views-field a, .attachment .views-summary a').each(e.proxy(this.attachPagerLinkAjax,this))};t.views.ajaxView.prototype.attachPagerLinkAjax=function(i,s){var n=e(s),r={};var a=n.attr('href');e.extend(r,this.settings,t.Views.parseQueryString(a),t.Views.parseViewArgs(a,this.settings.view_base_path));var o=e.extend({},this.element_settings,{submit:r,base:!1,element:s});this.pagerAjax=t.ajax(o)};t.AjaxCommands.prototype.viewsScrollTop=function(t,i){var a=e(i.selector).offset(),s=i.selector;while(e(s).scrollTop()===0&&e(s).parent()){s=e(s).parent()};if(a.top-10<e(s).scrollTop()){e(s).animate({scrollTop:a.top-10},500)}}})(jQuery,Drupal,drupalSettings);;
(function(e,i){i.behaviors.fileValidateAutoAttach={attach:function(a,t){var n=e(a),o;function l(a){e(once('fileValidate',n.find(a))).on('change.fileValidate',{extensions:o[a]},i.file.validateExtension)};if(t.file&&t.file.elements){o=t.file.elements;Object.keys(o).forEach(l)}},detach:function(a,t,o){var l=e(a),n;function f(a){e(once.remove('fileValidate',l.find(a))).off('change.fileValidate',i.file.validateExtension)};if(o==='unload'&&t.file&&t.file.elements){n=t.file.elements;Object.keys(n).forEach(f)}}};i.behaviors.fileAutoUpload={attach:function(a){e(once('auto-file-upload','input[type="file"]',a)).on('change.autoFileUpload',i.file.triggerUploadButton)},detach:function(i,a,t){if(t==='unload'){e(once.remove('auto-file-upload','input[type="file"]',i)).off('.autoFileUpload')}}};i.behaviors.fileButtons={attach:function(a){var t=e(a);t.find('.js-form-submit').on('mousedown',i.file.disableFields);t.find('.js-form-managed-file .js-form-submit').on('mousedown',i.file.progressBar)},detach:function(a,t,o){if(o==='unload'){var n=e(a);n.find('.js-form-submit').off('mousedown',i.file.disableFields);n.find('.js-form-managed-file .js-form-submit').off('mousedown',i.file.progressBar)}}};i.behaviors.filePreviewLinks={attach:function(a){e(a).find('div.js-form-managed-file .file a').on('click',i.file.openInNewWindow)},detach:function(a){e(a).find('div.js-form-managed-file .file a').off('click',i.file.openInNewWindow)}};i.file=i.file||{validateExtension:function(a){a.preventDefault();e('.file-upload-js-error').remove();var t=a.data.extensions.replace(/,\s*/g,'|');if(t.length>1&&this.value.length>0){var n=new RegExp('\\.('.concat(t,')$'),'gi');if(!n.test(this.value)){var o=i.t('The selected file %filename cannot be uploaded. Only files with the following extensions are allowed: %extensions.',{'%filename':this.value.replace('C:\\fakepath\\',''),'%extensions':t.replace(/\|/g,', ')});e(this).closest('div.js-form-managed-file').prepend('<div class="messages messages--error file-upload-js-error" aria-live="polite">'.concat(o,'</div>'));this.value='';a.stopImmediatePropagation()}}},triggerUploadButton:function(i){e(i.target).closest('.js-form-managed-file').find('.js-form-submit[data-drupal-selector$="upload-button"]').trigger('mousedown')},disableFields:function(i){var a=e(this);a.trigger('formUpdated');var o=[];if(a.closest('div.js-form-managed-file').length>0){o=a.closest('div.js-form-managed-file').find('input.js-form-file')};var t=e('div.js-form-managed-file input.js-form-file').not(o).not(':disabled');t.prop('disabled',!0);setTimeout(function(){t.prop('disabled',!1)},1000)},progressBar:function(i){var t=e(this),a=t.closest('div.js-form-managed-file').find('input.file-progress');if(a.length){var o=a.attr('name');a.attr('name',o.match(/APC_UPLOAD_PROGRESS|UPLOAD_IDENTIFIER/)[0]);setTimeout(function(){a.attr('name',o)},1000)};setTimeout(function(){t.closest('div.js-form-managed-file').find('div.ajax-progress-bar').slideDown()},500);t.trigger('fileUpload')},openInNewWindow:function(i){i.preventDefault();e(this).attr('target','_blank');window.open(this.href,'filePreview','toolbar=0,scrollbars=1,location=1,statusbar=1,menubar=0,resizable=1,width=500,height=550')}}})(jQuery,Drupal);;
