(function(t,i,l){function e(i){var e=t(i);this.$originalTable=e;this.$originalHeader=e.children('thead');this.$originalHeaderCells=this.$originalHeader.find('> tr > th');this.displayWeight=null;this.$originalTable.addClass('sticky-table');this.tableHeight=e[0].clientHeight;this.tableOffset=this.$originalTable.offset();this.$originalTable.on('columnschange',{tableHeader:this},function(t,i){var e=t.data.tableHeader;if(e.displayWeight===null||e.displayWeight!==i){e.recalculateSticky()};e.displayWeight=i});this.createSticky()};function s(t,i){var s=e.tables,a=s.length;for(var l=0;l<a;l++){s[l][t](i)}};function o(i){once('tableheader',t(i.data.context).find('table.sticky-enabled')).forEach(function(t){e.tables.push(new e(t))});s('onScroll')};i.behaviors.tableHeader={attach:function(i){t(window).one('scroll.TableHeaderInit',{context:i},o)}};function a(t){return document.documentElement[t]||document.body[t]};function n(t){s('recalculateSticky')};function c(t){s('onScroll')};function r(t,i){s('stickyPosition',i.top)};t(window).on({'resize.TableHeader':n,'scroll.TableHeader':c});t(document).on({'columnschange.TableHeader drupalToolbarTrayChange':n,'drupalViewportOffsetChange.TableHeader':r});t.extend(e,{tables:[]});t.extend(e.prototype,{minHeight:100,tableOffset:null,tableHeight:null,stickyVisible:!1,createSticky:function(){this.$html=t('html');var i=this.$originalHeader.clone(!0);this.$stickyTable=t('<table class="sticky-header"></table>').css({visibility:'hidden',position:'fixed',top:'0px'}).append(i).insertBefore(this.$originalTable);this.$stickyHeaderCells=i.find('> tr > th');this.recalculateSticky()},stickyPosition:function(t,i){var e={};if(typeof t==='number'){e.top=''.concat(t,'px')};if(typeof i==='number'){e.left=''.concat(this.tableOffset.left-i,'px')};this.$html.css('scroll-padding-top',l.offsets.top+(this.stickyVisible?this.$stickyTable.height():0));return this.$stickyTable.css(e)},checkStickyVisible:function(){var i=a('scrollTop'),e=this.tableOffset.top-l.offsets.top,s=e+this.tableHeight,t=!1;if(e<i&&i<s-this.minHeight){t=!0};this.stickyVisible=t;return t},onScroll:function(t){this.checkStickyVisible();this.stickyPosition(null,a('scrollLeft'));this.$stickyTable.css('visibility',this.stickyVisible?'visible':'hidden')},recalculateSticky:function(i){this.tableHeight=this.$originalTable[0].clientHeight;l.offsets.top=l.calculateOffset('top');this.tableOffset=this.$originalTable.offset();this.stickyPosition(l.offsets.top,a('scrollLeft'));var e=null,n=null,o=null,c=this.$originalHeaderCells.length;for(var s=0;s<c;s++){e=t(this.$originalHeaderCells[s]);n=this.$stickyHeaderCells.eq(e.index());o=e.css('display');if(o!=='none'){n.css({width:e.css('width'),display:o})}
else{n.css('display','none')}};this.$stickyTable.css('width',this.$originalTable.outerWidth())}});i.TableHeader=e})(jQuery,Drupal,window.Drupal.displace);